<% content_for :title, "Employees" %>

<div class="w-full">
  <div class="flex items-center justify-between mb-6">
    <div>
      <h1 class="text-2xl font-semibold text-gray-900">Employees</h1>
      <p class="text-sm text-gray-600">Manage workforce</p>
    </div>
    <div class="flex items-center space-x-2">
      <%= link_to "New employee", new_employee_path, class: "rounded-md px-3 py-2 bg-blue-600 text-white text-sm font-medium hover:bg-blue-500" %>
    </div>
  </div>

  <% if @employees.any? %>
    <%= render partial: 'shared/table', locals: { include_actions: true, columns: [
      { header: 'Name', proc: ->(r){ r.full_name } },
      { header: 'Email', key: :email },
      { header: 'Department', key: :department },
      { header: 'Position', key: :position },
      { header: 'Hire date', key: :hire_date },
      { header: 'Salary', proc: ->(r){ number_to_currency(r.salary) } },
      { header: 'Time entries', proc: ->(r){ r.time_entries.count } },
      { header: 'Benefits', proc: ->(r){ r.benefit_plans.map(&:name).join(', ') } }
    ], rows: @employees } %>
  <% else %>
    <div class="card"><div class="card-body">
      <p class="text-sm text-gray-600">No employees found.</p>
      <div class="mt-3">
        <%= link_to "Add your first employee", new_employee_path, class: "btn btn-primary" %>
      </div>
    </div></div>
  <% end %>
</div>
